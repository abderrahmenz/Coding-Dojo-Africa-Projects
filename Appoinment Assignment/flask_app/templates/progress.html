<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Progress</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body class="p-3 m-0 border-0 bd-example m-0 border-0">
    <h1>Progress Tracking</h1>
    <hr>
    {% if progress_list %}
    <!-- Loop through progress_list -->
    {% for progress in progress_list %}
    <div class="card" style="width: 18rem;">
        <svg class="bd-placeholder-img card-img-top" width="100%" height="180" xmlns="http://www.w3.org/2000/svg"
            role="img" aria-label="Placeholder: Image cap" preserveAspectRatio="xMidYMid slice" focusable="false">
            <title>Placeholder</title>
            <rect width="100%" height="100%" fill="#868e96"></rect>
            <text x="50%" y="50%" fill="#dee2e6" dy=".3em">Goal Type Image</text>
        </svg>
        <div class="card-body">
            <h5 class="card-title">{{ progress.goal_type }}</h5> <!-- Assuming goal_type exists in your model -->
            <p class="card-text">Start Date: {{ progress.start_date }}</p>
            <p class="card-text">Steps Per Day: {{ progress.steps_taken }}</p>
            <p class="card-text">Progress: {{ progress.progress_percentage }}%</p>
            <p class="card-text">End Date: {{ progress.end_date }}</p>
            <hr>
            <div class="progress" role="progressbar" aria-label="Progress"
                aria-valuenow="{{ progress.progress_percentage }}" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar" style="width: {{ progress.progress_percentage|default(0) }}%">
                    {{ progress.progress_percentage|default(0) }}%
                </div>
                
            <hr>
            <a href="/progress/update/{{ progress.id }}" class="btn btn-primary">Update Progress</a>
        </div>
    </div>
    <hr>
    {% endfor %}
    {% else %}
    <p>No progress data available.</p>
    {% endif %}
</body>

</html>